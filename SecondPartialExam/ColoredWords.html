<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Colored Words</title>
    <style>
        p {
            position: absolute;
        }
    </style>
</head>
<body>
<div id="input">
    <label for="text"></label><textarea id="text" rows="10" cols="20"></textarea>
    <button onclick="show_words()">Прикажи</button>
</div>
<div id="words">

</div>

<script>
    let wordsDiv = document.getElementById("words");

    function show_words() {
        document.getElementById("input").style.display = "none";
        let text = document.getElementById("text");
        text = text.value;
        let rows = text.split("\n");
        let appearances = [];
        let words = [];
        for (let i = 0; i < rows.length; i++) {
            appearances.push(rows[i].split(" ").length)
            words.push(rows[i].split(" ")[0])
        }
        console.log(words)
        let i = 0;
        let interval = setInterval(() => {
            let top = Math.random() * 500 + "px";
            let left = Math.random() * 1200 + "px";
            let color = parseInt(Math.random() * 10);
            switch (color) {
                case 0:
                    color = "black";
                    break;
                case 1:
                    color = "pink";
                    break;
                case 2:
                    color = "red";
                    break;
                case 3:
                    color = "purple";
                    break;
                case 4:
                    color = "cyan";
                    break;
                case 5:
                    color = "green";
                    break;
                case 6:
                    color = "yellow";
                    break;
                case 7:
                    color = "blue";
                    break;
                case 8:
                    color = "orange";
                    break;
                case 9:
                    color = "darkred";
            }
            let word = "<p style='color: " + color + "; top: " + top + "; left: " + left + "; font-size: " + appearances[i] * 30 + "px'>" + words[i] + "</p>";
            wordsDiv.innerHTML += word;
            i++;
            if (i === words.length)
                clearInterval(interval);
        }, 2000)
    }
</script>
</body>
</html>